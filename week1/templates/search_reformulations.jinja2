<script>
    document.addEventListener('DOMContentLoaded', function () {
        fetch('/search/reformulations?query={{ query }}').then(res => res.json()).then(response => {
            let recommendations = ""
            if(response.relatedQueries) {
                response.relatedQueries.map(s => {
                    recommendations = recommendations + `<a href="?query=${s.key}" class="text-sm rounded-full py-2 px-3 bg-white shadow-md hover:shadow-lg hover:border-slate-300 border border-slate-200 mr-2" href="#">${s.key}</a>`
                })
            }
            document.getElementById('recommendations').innerHTML = `<div class="flex items-center py-2"><div><p class="text-slate-600 mr-2 text-sm">Related</p></div><div>${recommendations}</div></div>`
        })
    }, false);
</script>

<div id="recommendations"></div>